{"ast":null,"code":"/*! @azure/msal-browser v2.37.1 2023-06-07 */\n'use strict';\n\nimport { __extends, __awaiter, __generator, __assign } from '../_virtual/_tslib.js';\nimport { AuthError, PerformanceEvents, Constants } from '@azure/msal-common';\nimport { StandardInteractionClient } from './StandardInteractionClient.js';\nimport { BrowserAuthError } from '../error/BrowserAuthError.js';\nimport { InteractionType } from '../utils/BrowserConstants.js';\nimport { SilentHandler } from '../interaction_handler/SilentHandler.js';\nimport { HybridSpaAuthorizationCodeClient } from './HybridSpaAuthorizationCodeClient.js';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nvar SilentAuthCodeClient = /** @class */function (_super) {\n  __extends(SilentAuthCodeClient, _super);\n  function SilentAuthCodeClient(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, apiId, performanceClient, nativeMessageHandler, correlationId) {\n    var _this = _super.call(this, config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId) || this;\n    _this.apiId = apiId;\n    return _this;\n  }\n  /**\r\n   * Acquires a token silently by redeeming an authorization code against the /token endpoint\r\n   * @param request\r\n   */\n  SilentAuthCodeClient.prototype.acquireToken = function (request) {\n    return __awaiter(this, void 0, void 0, function () {\n      var silentRequest, serverTelemetryManager, authCodeRequest, clientConfig, authClient, silentHandler, e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.logger.trace(\"SilentAuthCodeClient.acquireToken called\");\n            // Auth code payload is required\n            if (!request.code) {\n              throw BrowserAuthError.createAuthCodeRequiredError();\n            }\n            // Create silent request\n            this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, request.correlationId);\n            return [4 /*yield*/, this.initializeAuthorizationRequest(request, InteractionType.Silent)];\n          case 1:\n            silentRequest = _a.sent();\n            this.browserStorage.updateCacheEntries(silentRequest.state, silentRequest.nonce, silentRequest.authority, silentRequest.loginHint || Constants.EMPTY_STRING, silentRequest.account || null);\n            serverTelemetryManager = this.initializeServerTelemetryManager(this.apiId);\n            _a.label = 2;\n          case 2:\n            _a.trys.push([2, 4,, 5]);\n            authCodeRequest = __assign(__assign({}, silentRequest), {\n              code: request.code\n            });\n            // Initialize the client\n            this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration, request.correlationId);\n            return [4 /*yield*/, this.getClientConfiguration(serverTelemetryManager, silentRequest.authority)];\n          case 3:\n            clientConfig = _a.sent();\n            authClient = new HybridSpaAuthorizationCodeClient(clientConfig);\n            this.logger.verbose(\"Auth code client created\");\n            silentHandler = new SilentHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.config.system, this.performanceClient);\n            // Handle auth code parameters from request\n            return [2 /*return*/, silentHandler.handleCodeResponseFromServer({\n              code: request.code,\n              msgraph_host: request.msGraphHost,\n              cloud_graph_host_name: request.cloudGraphHostName,\n              cloud_instance_host_name: request.cloudInstanceHostName\n            }, silentRequest.state, authClient.authority, this.networkClient, false)];\n          case 4:\n            e_1 = _a.sent();\n            if (e_1 instanceof AuthError) {\n              e_1.setCorrelationId(this.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e_1);\n            this.browserStorage.cleanRequestByState(silentRequest.state);\n            throw e_1;\n          case 5:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  /**\r\n   * Currently Unsupported\r\n   */\n  SilentAuthCodeClient.prototype.logout = function () {\n    // Synchronous so we must reject\n    return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError());\n  };\n  return SilentAuthCodeClient;\n}(StandardInteractionClient);\nexport { SilentAuthCodeClient };","map":{"version":3,"names":["__extends","__awaiter","__generator","__assign","AuthError","PerformanceEvents","Constants","StandardInteractionClient","BrowserAuthError","InteractionType","SilentHandler","HybridSpaAuthorizationCodeClient","SilentAuthCodeClient","_super","config","storageImpl","browserCrypto","logger","eventHandler","navigationClient","apiId","performanceClient","nativeMessageHandler","correlationId","_this","call","prototype","acquireToken","request","silentRequest","serverTelemetryManager","authCodeRequest","clientConfig","authClient","silentHandler","e_1","_a","label","trace","code","createAuthCodeRequiredError","setPreQueueTime","StandardInteractionClientInitializeAuthorizationRequest","initializeAuthorizationRequest","Silent","sent","browserStorage","updateCacheEntries","state","nonce","authority","loginHint","EMPTY_STRING","account","initializeServerTelemetryManager","trys","push","StandardInteractionClientGetClientConfiguration","getClientConfiguration","verbose","system","handleCodeResponseFromServer","msgraph_host","msGraphHost","cloud_graph_host_name","cloudGraphHostName","cloud_instance_host_name","cloudInstanceHostName","networkClient","setCorrelationId","cacheFailedRequest","cleanRequestByState","logout","Promise","reject","createSilentLogoutUnsupportedError"],"sources":["C:/Users/ishma/Revature/Ishmael-Primus-Code-/ecomm-prj1/node_modules/@azure/msal-browser/dist/interaction_client/SilentAuthCodeClient.js"],"sourcesContent":["/*! @azure/msal-browser v2.37.1 2023-06-07 */\n'use strict';\nimport { __extends, __awaiter, __generator, __assign } from '../_virtual/_tslib.js';\nimport { AuthError, PerformanceEvents, Constants } from '@azure/msal-common';\nimport { StandardInteractionClient } from './StandardInteractionClient.js';\nimport { BrowserAuthError } from '../error/BrowserAuthError.js';\nimport { InteractionType } from '../utils/BrowserConstants.js';\nimport { SilentHandler } from '../interaction_handler/SilentHandler.js';\nimport { HybridSpaAuthorizationCodeClient } from './HybridSpaAuthorizationCodeClient.js';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\nvar SilentAuthCodeClient = /** @class */ (function (_super) {\r\n    __extends(SilentAuthCodeClient, _super);\r\n    function SilentAuthCodeClient(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, apiId, performanceClient, nativeMessageHandler, correlationId) {\r\n        var _this = _super.call(this, config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId) || this;\r\n        _this.apiId = apiId;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Acquires a token silently by redeeming an authorization code against the /token endpoint\r\n     * @param request\r\n     */\r\n    SilentAuthCodeClient.prototype.acquireToken = function (request) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var silentRequest, serverTelemetryManager, authCodeRequest, clientConfig, authClient, silentHandler, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.trace(\"SilentAuthCodeClient.acquireToken called\");\r\n                        // Auth code payload is required\r\n                        if (!request.code) {\r\n                            throw BrowserAuthError.createAuthCodeRequiredError();\r\n                        }\r\n                        // Create silent request\r\n                        this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, request.correlationId);\r\n                        return [4 /*yield*/, this.initializeAuthorizationRequest(request, InteractionType.Silent)];\r\n                    case 1:\r\n                        silentRequest = _a.sent();\r\n                        this.browserStorage.updateCacheEntries(silentRequest.state, silentRequest.nonce, silentRequest.authority, silentRequest.loginHint || Constants.EMPTY_STRING, silentRequest.account || null);\r\n                        serverTelemetryManager = this.initializeServerTelemetryManager(this.apiId);\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        authCodeRequest = __assign(__assign({}, silentRequest), { code: request.code });\r\n                        // Initialize the client\r\n                        this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration, request.correlationId);\r\n                        return [4 /*yield*/, this.getClientConfiguration(serverTelemetryManager, silentRequest.authority)];\r\n                    case 3:\r\n                        clientConfig = _a.sent();\r\n                        authClient = new HybridSpaAuthorizationCodeClient(clientConfig);\r\n                        this.logger.verbose(\"Auth code client created\");\r\n                        silentHandler = new SilentHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.config.system, this.performanceClient);\r\n                        // Handle auth code parameters from request\r\n                        return [2 /*return*/, silentHandler.handleCodeResponseFromServer({\r\n                                code: request.code,\r\n                                msgraph_host: request.msGraphHost,\r\n                                cloud_graph_host_name: request.cloudGraphHostName,\r\n                                cloud_instance_host_name: request.cloudInstanceHostName\r\n                            }, silentRequest.state, authClient.authority, this.networkClient, false)];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (e_1 instanceof AuthError) {\r\n                            e_1.setCorrelationId(this.correlationId);\r\n                        }\r\n                        serverTelemetryManager.cacheFailedRequest(e_1);\r\n                        this.browserStorage.cleanRequestByState(silentRequest.state);\r\n                        throw e_1;\r\n                    case 5: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Currently Unsupported\r\n     */\r\n    SilentAuthCodeClient.prototype.logout = function () {\r\n        // Synchronous so we must reject\r\n        return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError());\r\n    };\r\n    return SilentAuthCodeClient;\r\n}(StandardInteractionClient));\n\nexport { SilentAuthCodeClient };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}